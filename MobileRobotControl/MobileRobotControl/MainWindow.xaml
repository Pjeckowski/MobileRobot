<Window x:Class="MobileRobotControl.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525"
        WindowStyle="None" Background="#017BCD">
    <WindowChrome.WindowChrome>
        <WindowChrome
            CaptionHeight="27"
            CornerRadius="100,100,100,100"
            />
    </WindowChrome.WindowChrome>
    
    
    <Grid>
        <Grid.Resources>
            <Style x:Key="LEL" TargetType="{x:Type MenuItem}" >
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type MenuItem}">
                            <Grid SnapsToDevicePixels="true">
                                <DockPanel>
                                    <ContentPresenter x:Name="Icon" ContentSource="Icon"  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center"/>
                                    <Path x:Name="GlyphPanel" Fill="{TemplateBinding Foreground}" FlowDirection="LeftToRight" Margin="0,0,0,0" Visibility="Collapsed" VerticalAlignment="Center"/>
                                    <ContentPresenter x:Name="content" ContentSource="Header" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                </DockPanel>
                                <Popup x:Name="PART_Popup" AllowsTransparency="true" Focusable="false" HorizontalOffset="1" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Bottom" VerticalOffset="-1">

                                    <Border BorderThickness="0" BorderBrush="White" >
                                        
                                            <DockPanel RenderOptions.ClearTypeHint="Enabled"  Background="Black">
                                                <ItemsPresenter x:Name="ItemsPresenter" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="true" Margin="0,0,0,0" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                                            </DockPanel>
                                      
                                    </Border>
                                </Popup>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Setter Property="Background" Value="#242424"/>
                                    <Setter Property="Foreground" Value="AliceBlue"/>
                                </Trigger>
                                <Trigger Property="IsHighlighted" Value="False">
                                    <Setter Property="Background" Value="#017BCD"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </Grid.Resources>
        <Label Content="Mobile Robot Control" Height="272" FontWeight="UltraBold" FontSize="22" Foreground="AliceBlue"  VerticalAlignment="Top" FontFamily="MV Boli" Margin ="0,-3,0,0"/>
        <DockPanel HorizontalAlignment="Stretch" Margin="10,40,10,10" Background="#242424" VerticalAlignment="Stretch" Width="Auto">
            <Menu DockPanel.Dock="Top" Height="30" Background="#017BCD">
                <MenuItem Header="Connection" Style="{StaticResource LEL}" FontFamily="MV Boli">
                    <MenuItem  x:Name="ConnectMenuItem" Background="#017BCD" FontWeight="Bold" FontFamily="MV Boli" Header="Connect" Click="ConnectMenuItem_Click">
                    </MenuItem>
                </MenuItem>
            </Menu>
            <Grid >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <GroupBox Grid.Column="0" Header="Robot Position"  HorizontalAlignment="Stretch" Foreground="#20b2ed" FontWeight="UltraBold" BorderBrush="White" BorderThickness="0" FontFamily="MV Boli" VerticalAlignment="Stretch" Margin="5,5,5,5" >
                    <DockPanel>
                         <Grid>
                            <Grid.ColumnDefinitions>
                                 <ColumnDefinition Width="*"/>
                                 <ColumnDefinition Width="*"/>
                                 <ColumnDefinition Width="*"/>
                                 <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="3*"/>
                            </Grid.RowDefinitions>
                            <Label x:Name="PosXLabel" Foreground="AliceBlue" FontSize="14" Content="Pos X:" Grid.Row="0" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" />
                            <Label x:Name="robotPosXLabel" Foreground="#20b2ed" FontSize="14" Grid.Row="0" Content="0.0" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Label Content="Pos Y: " Grid.Row="0" Foreground="AliceBlue" FontSize="14" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Label x:Name="robotPosYLabel" Grid.Row="0" Foreground="#20b2ed" FontSize="14" Content="0.0" Grid.Column="3" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Label Content="Angle:" Grid.Row="1" Grid.Column="1" Foreground="AliceBlue" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center" />
                            <Label x:Name="robotAngleLabel" Grid.Row="1" Content="0.0" Foreground="#20b2ed" FontSize="14" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center" />
                            <ProgressBar x:Name="leftEngineProgressBar" Maximum="100" Orientation="Vertical" FontSize="14" Grid.Row="1" Grid.RowSpan="2" />
                            <ProgressBar x:Name="rightEngineProgressBar" Maximum="100" Orientation="Vertical" FontSize="14" Grid.Row="1" Grid.RowSpan="2" Grid.Column="3" />
                            <Label Content="MotorSpeed" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Foreground="AliceBlue" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Grid>
                    
                    </DockPanel>
            </GroupBox>
            <GroupBox Grid.Column="1" Header = "Robot Control" FontWeight="ExtraBold" Foreground="#20b2ed" FontFamily="MV Boli" BorderThickness="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="5,5,5,5">
                <DockPanel x:Name="RobotControlDockPanel">
                        <Grid x:Name="AutoGrid"   DockPanel.Dock="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Button x:Name="SetXButton" Content="Set" Grid.Column="2" Background="#017bcd"   Margin="3,30,3,5" MaxHeight="60" MaxWidth="160" Click="SetXButton_Click" />
                            <Label Content="Goal Positions" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="-4,-6,0,0" />
                            <Label Content="pos X" Grid.Column="0"  Grid.Row="0" Margin="-4,8,0,0" />
                            <Label Content="pos Y" Grid.Column="1"  Grid.Row="0" Margin="-4,8,0,0" />
                            <TextBox Grid.Column="0" Grid.Row="0" Margin="4,30,4,5" Background="#FF959595"/>
                            <TextBox Grid.Column="1" Grid.Row="0" Margin="4,30,4,5" Background="#FF959595"/>
                            
                            <Label Content="Mobility" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Margin="-4,7,0,0" />
                            <Button x:Name="PointFollowButton" Content="PointFollow" Grid.Column="0" Grid.Row="1" Background="#017bcd" Margin="3,30,3,5" MaxHeight="60" MaxWidth="160" Click="SetXButton_Click" />
                            <Button x:Name="LineFollowButton" Content="LineFollow" Grid.Column="1" Grid.Row="1" Background="#017bcd" Margin="3,30,3,5" MaxHeight="60" MaxWidth="160" Click="SetXButton_Click" />
                            <Button x:Name="StopButton" Content="Stop" Grid.Column="2" Grid.Row="1" Background="#017bcd" Margin="3,30,3,5" MaxHeight="60" MaxWidth="160" Click="SetXButton_Click" />

                            <Button x:Name="SetEnginesButton" Content="Set Engines" Grid.Column="1" Grid.Row="2" Background="#017bcd" Margin="3,30,3,5" MaxHeight="60" MaxWidth="160" Click="SetEnginesButton_Click"/>
                            <TextBox x:Name="LeftEngineTextBox" Grid.Column="0" Grid.Row="2" VerticalAlignment="Top" Background="#FF959595"/>
                            <TextBox x:Name="RightEngineTextBox" Grid.Column="0" Grid.Row="2" VerticalAlignment="Bottom" Background="#FF959595" />

                            <Button x:Name="ManualControlButton" Content="Man Control" Grid.Column="0" Grid.Row="3" Background="#017bcd" Margin="3,30,3,5" MaxHeight="60" MaxWidth="160" Click="ManualControlButton_Click"/>
                        </Grid>
                    <Grid x:Name="ManualGrid" DockPanel.Dock="Top" Height ="Auto"  Background="AliceBlue">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                            <Button x:Name="AutoControlButton" Content="Auto Control" Grid.Column="0" Grid.Row="3" Background="#017bcd" Margin="3,30,3,5" MaxHeight="60" MaxWidth="160" Click="AutoControlButton_Click"/>
                            <TextBox x:Name="ControlTextBox" Grid.Column="0" Grid.Row="0" Background="Blue" PreviewKeyDown="ControlTextBox_PreviewKeyDown" PreviewKeyUp="ControlTextBox_PreviewKeyUp"  />
                        </Grid>
                    </DockPanel>
                
            </GroupBox>
        </Grid>
   </DockPanel>
        </Grid>
</Window>
